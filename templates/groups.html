{% extends "layout.html" %}

{% block title %}Groups{% endblock %}

{% block content %}
<div class="row-fluid" id="groups">
    <div class="span6">
        <h1>Groups</h1>

        <div class="row-fluid">
            <div class="span12">
                <div class="box box-highlight">
                    <div class="box-content">
                        <form method="POST" action="{{ path('group_create') }}" class="group-add form-inline" style="margin:0px">
                            Create Group: <input type="text" name="name" value="" class="span8" />
                            <input type="submit" value="Create" class="btn btn-success group-add-btn" />
                        </form>
                    </div>
                </div>
            </div>
        </div>

        <div class="groups">
            {% for group in groups %}
                {% include "_group.html" with {'group': group} %}
            {% endfor %}
        </div>
    </div>

    <div class="span6"></div>
</div>

<script type="text/html" id="group-follower">
    <div class="group-follower">
        <img src="<%- follower.avatar %>" alt="<%- follower.name %>" />
    </div>
</script>
{% endblock %}

{% block javascripts %}
<script type="text/javascript">
<!--
     var ZeltenConfig = {
        groupFollowers: '{{ path('group_followings') }}'
     };
-->
</script>
<script type="text/javascript" src="/js/groups.js"></script>
<script type="text/javascript">
<!--
     var follower = new Zelten.FollowerCollection();
     follower.fetch();
     var app = new Zelten.GroupsApplication({
         el: $("#groups")
         collection: follower
     });
     app.render();
-->
</script>
{% endblock %}
